"use strict";function clockUpdateTime(e,c){function a(){var e,c=new Date,a=t(c.getHours(),2)+":"+t(c.getMinutes(),2)+":"+t(c.getSeconds(),2),n=t(c.getFullYear(),4)+"-"+t(c.getMonth()+1,2)+"-"+t(c.getDate(),2)+" "+r[c.getDay()],s=c.getHours();if(s>12?(s-=12,e=" P M"):e=" A M",document.getElementById("card-clock-time")){var o=document.getElementById("card-clock-time"),i=document.getElementById("card-clock-clockdate"),l=document.getElementById("card-clock-dackorlight");o.innerHTML=a,i.innerHTML=n,l.innerHTML=e}}function t(e,c){for(var a="",t=0;t<c;t++)a+="0";return(a+e).slice(-c)}var n="#000";switch(e.now.icon){case"100":n="#fdcc45";break;case"101":n="#fe6976";break;case"102":case"103":n="#fe7f5b";break;case"104":case"150":case"151":case"152":case"153":case"154":case"800":case"801":case"802":case"803":case"804":case"805":case"806":case"807":n="#2152d1";break;case"300":case"301":case"305":case"306":case"307":case"308":case"309":case"310":case"311":case"312":case"313":case"314":case"315":case"316":case"317":case"318":case"350":case"351":case"399":n="#49b1f5";break;case"302":case"303":case"304":n="#fdcc46";break;case"400":case"401":case"402":case"403":case"404":case"405":case"406":case"407":case"408":case"409":case"410":case"456":case"457":case"499":n="#a3c2dc";break;case"500":case"501":case"502":case"503":case"504":case"507":case"508":case"509":case"510":case"511":case"512":case"513":case"514":case"515":n="#97acba";break;case"900":case"999":n="red";break;case"901":n="#179fff;"}var s=document.getElementById("hexo_electric_clock");clock_box_html='\n  <div class="clock-row">\n    <span id="card-clock-clockdate" class="card-clock-clockdate"></span>\n    <span class="card-clock-weather"><i class="qi-'+e.now.icon+'-fill" style="color: '+n+'"></i> '+e.now.temp+' ‚ÑÉ</span>\n    <span class="card-clock-humidity">üíß '+e.now.humidity+'%</span>\n  </div>\n  <div class="clock-row">\n    <span id="card-clock-time" class="card-clock-time"></span>\n  </div>\n  <div class="clock-row">\n    <span class="card-clock-windDir"> <i class="qi-gale"></i> '+e.now.windDir+'</span>\n    <span class="card-clock-location">'+c+'</span>\n    <span id="card-clock-dackorlight" class="card-clock-dackorlight"></span>\n  </div>\n  ';var r=["SUN","MON","TUE","WED","THU","FRI","SAT"],o=document.getElementById("card-clock-loading");o&&(o.innerHTML=""),s.innerHTML=clock_box_html;setInterval(a,1e3);a()}function getIpInfo(){var e={city:"ÂêàËÇ•Â∏Ç",qweather_url:""};"true"===clock_default_rectangle_enable&&e?fetch("https://restapi.amap.com/v3/geocode/regeo?key="+gaud_map_key+"&location="+clock_rectangle).then(function(e){return e.json()}).then(function(e){if("1"===e.status){var c=e.regeocode.addressComponent;return Array.isArray(c.city)?c.province:c.city}}).then(function(c){fetch("https://devapi.qweather.com/v7/weather/now?location="+clock_rectangle+"&key="+qweather_key).then(function(e){return e.json()}).then(function(a){if(document.getElementById("hexo_electric_clock")){clockUpdateTime(a,Array.isArray(c)?e.city:c)}})}):fetch("https://restapi.amap.com/v3/ip?key="+gaud_map_key).then(function(e){return e.json()}).then(function(c){var a=Array.isArray(c.rectangle)?clock_rectangle:c.rectangle.split(";")[0];e.qweather_url="https://devapi.qweather.com/v7/weather/now?location="+a+"&key="+qweather_key,Array.isArray(c.rectangle)?fetch("https://restapi.amap.com/v3/geocode/regeo?key="+gaud_map_key+"&location="+clock_rectangle).then(function(e){return e.json()}).then(function(a){if("1"===a.status){var t=a.regeocode.addressComponent;e.city=Array.isArray(t.city)?t.province:t.city}return c}).then(function(c){fetch(e.qweather_url).then(function(e){return e.json()}).then(function(a){if(document.getElementById("hexo_electric_clock")){clockUpdateTime(a,Array.isArray(c.city)?e.city:c.city)}})}):fetch(e.qweather_url).then(function(e){return e.json()}).then(function(a){if(document.getElementById("hexo_electric_clock")){clockUpdateTime(a,Array.isArray(c.city)?e.city:c.city)}})})}getIpInfo();